## 2017-12-26:
1. 今天实现了模拟每次50个用户请求一个EC，求解该EC的任务分配.

## 2017-12-28 ~ 2017-12-29
着手于收集每个在一次local的optimization后，信息如何收集和反馈

1. 需要有一个数据结构来记录node间的依赖关系，注意：A和 B,C 是邻居，不能说明 B和C 是邻居； A==>B, 也不意味着 B==>A, 即 A会使用B的资源，B不一定会使用A的资源。

一个matrix：【】N x N的矩阵，每个元素X_ij 表示 node i 是否可使用 node j 的资源？ 1==> Yes, 0==> No

比如：
[[1 1 0 1 1 0 0 0 0 0]
 [0 1 0 0 1 1 0 0 0 0]
 [0 0 1 0 0 1 1 0 0 0]
 [1 0 0 1 0 1 0 0 0 0]
 [1 0 0 0 1 0 0 1 1 0]
 [0 1 1 0 0 1 1 0 0 0]
 [0 0 1 0 0 0 1 0 0 1]
 [0 0 0 1 1 0 0 1 1 0]
 [0 0 0 0 0 1 0 1 1 1]
 [0 0 0 0 0 0 1 0 1 1]]


2. 每个node，需知在 t slot时，自身的资源分配策略：
<!-- 可以用dictionary: key==>'node name', value==>'reserved capacity'。然后结合1，2可以推出3 -->
可用matrxi：元素 X_ij 表示，node_i 可以使用的来自node_j的资源 有多少？

该矩阵，每一row 是 node i 可支配的资源； 每一column是 node j的资源分配

比如初始资源分配：
[[40  5  0  5  5  0  0  0  0  0]
 [ 0 40  0  0  5  5  0  0  0  0]
 [ 0  0 40  0  0  5  5  0  0  0]
 [ 5  0  0 40  0  5  0  0  0  0]
 [ 5  0  0  0 35  0  0  5  5  0]
 [ 0  5  5  0  0 30  5  0  0  0]
 [ 0  0  5  0  0  0 35  0  0  5]
 [ 0  0  0  5  5  0  0 40  5  0]
 [ 0  0  0  0  0  5  0  5 35  5]
 [ 0  0  0  0  0  0  5  0  5 40]]


3. 每个node，需知在 t slot时，自身加上neighbors给了我多少资源？（我可以用的资源是多少？和其对应的computing cost和 link cost？）
<!-- 用dict数据结构： key==>'availble node x', value==>'resource capacity -->


costMatrix
所以说，对于一个node来说，其抽象的资源分配图有两种：
（1）用于当前time slot的可用资源
（2）用于表示当前自身server上的reservation资源的情况。

4. 经过一次optimization，某个node需要统计：我用了neighbors留给我的多少资源？然后汇报个一个中心controller
controller就会知道某个node上预留给neighbors的资源对应地被用掉多少？
此步中可用第二步中相同结构的matrix， 元素X_ij表示，node i 实际使用了 node j 多少资源。
所以，每row表示node i的实际资源使用情况，每column表示 node j 分配给不同node的资源被使用了多少。


5. 同时，某个node也需要统计：我预留给我的邻居的资源，分别被用了多少？（貌似不需统计，controller根据第四步可以推出第五步）

## 实现：
controller用shared memory模拟；
node先选取10个；
不同的node用多线程实现： master 和 slave 结构

## 2017-12-30:
首先要调整一下 gurobi的输出，看能否沉默掉他。 写成一个目前阶段的报告


